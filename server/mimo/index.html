<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="author" content="Elvis" />
    <title>Linux文件关联原理解析</title>
    <link rel="shortcut icon" href="http://elvis4gh.github.com/elvis_github_page/favicon.ico" />
    <link href="http://elvis4gh.github.com/elvis_github_page/feed/" rel="alternate" title="Elvis" type="application/atom+xml" />
    <link rel="stylesheet" href="http://elvis4gh.github.com/elvis_github_page/media/css/style.css" />
    <link rel="stylesheet" media="print" href="http://elvis4gh.github.com/elvis_github_page/media/css/print.css" type="text/css">
    <link rel="stylesheet" href="http://elvis4gh.github.com/elvis_github_page/media/css/highlight.css" />
    <script type="text/javascript" src="/media/js/jquery-1.7.1.min.js"></script>
  </head>

  <body>
    <div id="wrapper">
      <nav>
      <div class="menu">
			<ul>
            <li><a title="网站首页" class="" href="http://elvis4gh.github.com/elvis_github_page/">Home</a></li>
            <li><a title="文章分类" class="" href="http://elvis4gh.github.com/elvis_github_page/categories/">Category</a></li>
            <li><a title="标签索引" class="" href="http://elvis4gh.github.com/elvis_github_page/tags/">Tags</a></li>
            <!--<li><a title="友情链接" class="" href="http://elvis4gh.github.com/elvis_github_page/links/">链接</a></li>-->
            <li><a title="留言交流" class="" href="http://elvis4gh.github.com/elvis_github_page/guestbook/">Contact</a></li>
            <li><a title="关于站长" class="" href="http://elvis4gh.github.com/elvis_github_page/about/">About</a></li>
            <li><a title="种子订阅" class="" href="http://elvis4gh.github.com/elvis_github_page/feed/" target="_blank">订阅</a></li>
			</ul>
		</div>
      </nav>
      <header>
         <h1><a href="#">Linux文件关联原理解析</a></h1>
         <h2>Write Elvis's own story regarding to "Life/Love/Responsibility".</h2>
      </header>

      <section id="main">
        <section id="content" role="content">
          <section class="meta">
<span class="time">
  <time datetime="2014-03-01">2014-03-01</time>
</span>

 | 
<span class="categories">
  分类
  
  <a href="http://elvis4gh.github.com/elvis_github_page/categories/#文档" title="文档">文档</a>&nbsp;
  
</span>


 | 
<span class="tags">
  标签
  
  <a href="http://elvis4gh.github.com/elvis_github_page/tags/#Linux" title="Linux">Linux</a>&nbsp;
  
  <a href="http://elvis4gh.github.com/elvis_github_page/tags/#centos" title="centos">centos</a>&nbsp;
  
</span>

</section>
<section class="post">
<p> 文件的类型由mimetype(.xml) 描述，存放在</p>

<pre><code> /usr/share/mime  
 ~/.local/share/mime  
</code></pre>

<p> 应用程序由desktop entry(.desktop)描述，存放在</p>

<pre><code> /usr/share/applications  
 ~/.local/share/applications  
</code></pre>

<p> xdg-open程序负责根据关联的程序打开文件。</p>

<pre><code>xdg-open先判断文件类型，然后到defaults.list找到指定的.desktop，根据其中的命令打开应用程序。  
</code></pre>

<p> xdg-mime可以修改默认文件关联。<br/>
 查看文件的mime类型：</p>

<pre><code> xdg-mime query filetype a.pdf  
</code></pre>

<p> 查看mime类型的应用程序关联：</p>

<pre><code> xdg-mime query default application/pdf  
</code></pre>

<p> 修改mime类型的应用程序关联：</p>

<pre><code> xdg-mime default evince.desktop application/pdf  
还可以直接改defaults.list。该文件存放于：  
    /usr/share/application  
    /etc/gnome  
    ~/.local/share/applictions  
按照全局性依次降低。  
</code></pre>

<p>++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</p>

<p>[[[转载|http://ninehills.info/2011/12/01/linux-default-program.html]]</p>

<p>e.g<br/>
如何在GC中用gvim关联md文件</p>

<p>为什么？为什么gnome要用到kde的config？</p>

<div class="highlight"><pre><code class="vim">  
[root@ElvisChenAcer <span class="p">~</span>]# xdg<span class="p">-</span>mime default <span class="k">gvim</span>.desktop application/md  
<span class="sr">/usr/</span><span class="nb">bin</span>/xdg<span class="p">-</span>mime: line <span class="m">531</span>: kde<span class="p">-</span>config: command not found  
<span class="k">mkdir</span>: 无法创建目录<span class="s2">&quot;&quot;</span>: 没有那个文件或目录  
</code></pre></div>




</section>
<section align="right">
<br/>
<span>
	<a  href="http://elvis4gh.github.com/elvis_github_page/try-to-use-rake-command-to-post-article/" class="pageNav"  >上一篇</a>
	&nbsp;&nbsp;&nbsp;
	<a  href="http://elvis4gh.github.com/elvis_github_page/change_blog_template/" class="pageNav"  >下一篇</a>
</span>
</section>

	
	<div class="ds-thread" />
		
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"elvis4ds"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>


        </section>
        <aside id="sidebar">
            <h3>Elvis WIKI</h3>
					<ul>
                  <li><a href="http://elvis4gh.github.com/elvis_github_page/wiki/html/index.html">Wiki首页</a></li>
                  <li><a href="http://elvis4gh.github.com/elvis_github_page/wiki/html/Ability/TopTenHabits.html">十大习惯</a></li>
                  <li><a href="http://elvis4gh.github.com/elvis_github_page/wiki/html/Ability/SevenHabits.html">7个习惯</a></li>
                  <li><a href="http://elvis4gh.github.com/elvis_github_page/wiki/html/十大学习习惯.html">十大学习习惯</a></li>
					</ul>
					
				<h3>Place Holder</h3>
					<img alt="" src="images/ad125.jpg"><br><img alt="" src="images/ad125.jpg"><br><br>

				<h3>联系方式</h3>
					<ul>
						<li><a href="http://weibo.com/328280959/home?wvr=5">新浪微博</a></li>
						<li><a href="http://user.qzone.qq.com/84880143">QQ空间</a></li>
						<li><a href="http://www.douban.com/people/3005484/">douban</a></li>
					</ul>

		  </aside>
      </section>

      <footer>
		<section id="footer-area">

			<section id="footer-outer-block">
					<aside class="footer-segment">
							<h4>My Favorites</h4>
								<ul>
									<li><a href="http://zhibo8.cc/">足球直播8</a></li>
									<li><a href="http://elvis4gh.github.com/elvis_github_page/wiki/html/Vim/Vim.html">Vim</a></li>
									<li><a href="http://movie.douban.com/mine?status=collect">看电影</a></li>
								</ul>
					</aside><!-- end of #first footer segment -->

					<aside class="footer-segment">
							<h4>Awesome!</h4>
								<ul>
                           <li><a href="http://elvis4gh.github.com/elvis_github_page/wiki/html/十大学习习惯.html">十大学习习惯</a></li>
                           <li><a href="http://elvis4gh.github.com/elvis_github_page/wiki/html/ProgrammerStyle.html">程序员喜欢系列</a></li>
								</ul>
					</aside><!-- end of #second footer segment -->

					<aside class="footer-segment">
							<h4>Where's Elvis?</h4>
								<ul>
                           <li> <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/cn/" target="_blank" title="许可协议">©</a> 2014 - 2014 <a href="http://elvis4gh.github.com/elvis_github_page/about/">Elvis</a> </li>
									<li><a href="http://elvis4gh.github.com/elvis_github_page/wiki/html/index.html">Elvis Wiki</a></li>
                           <li><a href="http://elvis4gh.github.com/elvis_github_page/../../index.html">Elvis Blog</a></li>
                           <li><a href="http://weibo.com/328280959/home?wvr=5">新浪微博</a></li>
                           <!--<li><a href="http://user.qzone.qq.com/84880143">QQ空间</a></li>-->
                           <li><a href="http://www.douban.com/people/3005484/">douban</a></li>
									<li><a href="#">TOP</a></li>
								</ul>
					</aside><!-- end of #third footer segment -->
					<aside class="footer-segment">
							<h4>Friends</h4>
								<ul>
									<li><a href="http://user.qzone.qq.com/771775">Geek</a></li>
									<li><a href="http://user.qzone.qq.com/657075117">心灵导师</a></li>
									<li><a href="#">想上榜请告诉我？</a></li>
								</ul>
					</aside><!-- end of #first footer segment -->
					
			</section><!-- end of footer-outer-block -->

		</section><!-- end of footer-area -->
	</footer>



    </div>
  </body>
</html>
