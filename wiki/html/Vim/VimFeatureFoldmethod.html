<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
  <head>
       <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
       <link rel="Stylesheet" type="text/css" href="../../../media/css/style.css" />
       <meta http-equiv="content-type" content="text/html; charset=utf-8" />
       <meta name="author" content="Elvis" />
       <title>VimFeatureFoldmethod</title>
       <link rel="shortcut icon" href="../../../favicon.ico" />
       <link href="../../../feed/" rel="alternate" title="Elvis" type="application/atom+xml" />
       <link rel="stylesheet" href="../../../media/css/style.css" />
       <link rel="stylesheet" href="../../../media/css/highlight.css" />
       <script type="text/javascript" src="/media/js/jquery-1.7.1.min.js"></script>
  </head>
  <body>
    <a name="top"></a>
    <div id="container">
      <div id="main" role="main">
        <header>
        <h1>VimFeatureFoldmethod</h1>
        </header>
        <nav>
        <span><a title="网站首页" class="" href="../../../">首页</a></span>
        <span><a title="文章分类" class="" href="../../../categories/">分类</a></span>
        <span><a title="标签索引" class="" href="../../../tags/">标签</a></span>
        <!--<span><a title="友情链接" class="" href="../../../links/">链接</a></span>-->
        <span><a title="留言交流" class="" href="../../../guestbook/">留言</a></span>
        <span><a title="关于站长" class="" href="../../../about/">关于</a></span>
        <span><a title="种子订阅" class="" href="../../../feed/" target="_blank">订阅</a></span>
        </nav>
        <article class="content">
        
<p>
:h fold
</p>

<p>
fdm
fdc
   折叠增强 点击{} 有折叠功能
</p>

<h1 id="toc_1">1. 折叠方式foldmethod</h1>
<p>
:set foldmethod=manual
</p>

<p>
可用选项来设定折叠方式：
</p>

<p>
可在Vim 配置文件中设置 set fdm=XXX
可直接在文件中使用注释调用vim命令 /* vim: set fdm=<span class="todo">XXX:</span> */
注意，每一种折叠方式不兼容，如不能既用expr又用marker方式，我主要轮流使用indent和marker方式进行折叠。
</p>

<p>
有6种方法来选定折叠：
</p>
<h2 id="toc_1.1" class="justcenter">1	manual           手工定义折叠</h2>
<h2 id="toc_1.2" class="justcenter">2	indent           更多的缩进表示更高级别的折叠</h2>
<h2 id="toc_1.3" class="justcenter">3	expr             用表达式来定义折叠</h2>
<h2 id="toc_1.4" class="justcenter">4	syntax           用语法高亮来定义折叠</h2>
<h2 id="toc_1.5" class="justcenter">5	diff             对没有更改的文本进行折叠</h2>
<h2 id="toc_1.6" class="justcenter">6	marker           对文中的标志折叠</h2>
      
<h2 id="toc_1.7">1	manual           手工定义折叠</h2>
<p>
折叠的行為表現是由 foldmethod[fdm] 這個設定項來控制的，這個設定項預設是 manual，就是手動設定
</p>
<h2 id="toc_1.8">2	indent           更多的缩进表示更高级别的折叠</h2>
<p>
indent方式，vim会自动利用缩进进行折叠，我们可以使用现成的折叠成果． 我们可以在折叠处输入以下命令：
</p>

<p>
zc 折叠
zC 对所在范围内所有嵌套的折叠点进行折叠
zo 展开折叠
zO 对所在范围内所有嵌套的折叠点展开
</p>

<p>
[z 到当前打开的折叠的开始处。
]z 到当前打开的折叠的末尾处。
</p>

<p>
zj 向下移动。到达下一个折叠的开始处。关闭的折叠也被计入。
zk 向上移动到前一折叠的结束处。关闭的折叠也被计入。
</p>

<h2 id="toc_1.9">3	expr             用表达式来定义折叠</h2>
<h2 id="toc_1.10">4	syntax           用语法高亮来定义折叠</h2>
<h2 id="toc_1.11">5	diff             对没有更改的文本进行折叠</h2>
<h2 id="toc_1.12">6	marker           对文中的标志折叠</h2>
<p>
marker折叠命令
marker折叠方式时，我们需要用标计来标识代码的折叠，系统默认是{{{和}}}
折叠命令
</p>

<p>
zf　创建折叠，比如在marker方式下：
</p>
<blockquote>
zf56G，创建从当前行起到56行的代码折叠；
10zf或10zf+或zf10↓，创建从当前行起到后10行的代码折叠。
10zf-或zf10↑，创建从当前行起到之前10行的代码折叠。
在括号处zf%，创建从当前行起到对应的匹配的括号上去（（），{}，[]，&lt;&gt;等）。
</blockquote>
<p>
zd  删除 (delete) 在光标下的折叠。仅当 'foldmethod' 设为 "manual" 或 "marker" 时有效。
zD  循环删除 (Delete) 光标下的折叠，即嵌套删除折叠。仅当 'foldmethod' 设为 "manual" 或 "marker" 时有效。
zE  除去 (Eliminate) 窗口里“所有”的折叠。仅当 'foldmethod' 设为 "manual" 或 "marker" 时有效。
</p>

 

<p>
使用时，用 set fdm=marker 命令来设置成marker折叠方式（fdm是foldmethod的缩写）。
要使每次打开vim时折叠都生效，则在.vimrc文件中添加设置，如添加：set fdm=syntax，就像添加其它的初始化设置一样。
</p>

<h1 id="toc_2">2. 折叠命令 - zo 和 zc</h1>

<p>
选取了折叠方式后，我们就可以对某些代码实施我们需要的折叠了，由于我使用indent和marker稍微多一些，故以它们的使用为例：如果使用了indent方式，vim会自动的对大括号的中间部分进行折叠，我们可以直接使用这些现成的折叠成果。
</p>

<p>
在可折叠处（大括号中间）：
1	zc      折叠
2	zC     对所在范围内所有嵌套的折叠点进行折叠
3	zo      展开折叠
4	zO     对所在范围内所有嵌套的折叠点展开
5	[z       到当前打开的折叠的开始处。
6	]z       到当前打开的折叠的末尾处。
7	zj       向下移动。到达下一个折叠的开始处。关闭的折叠也被计入。
8	zk      向上移动到前一折叠的结束处。关闭的折叠也被计入。
</p>

<p>
当使用marker方式时，需要用标计来标识代码的折叠，系统默认是{{{和}}}，最好不要改动
</p>

<p>
我们可以使用下面的命令来创建和删除折叠：
</p>

<p>
view sourceprint?
01	zf      创建折叠，比如在marker方式下：                  
02	         zf56G，创建从当前行起到56行的代码折叠；                  
03	         10zf或10zf+或zf10↓，创建从当前行起到后10行的代码折叠。                  
04	         10zf-或zf10↑，创建从当前行起到之前10行的代码折叠。                  
05	         在括号处zf%，创建从当前行起到对应的匹配的括号上去（（），{}，[]，&lt;&gt;等）。
06	 
07	zd      删除 (delete) 在光标下的折叠。
08	         仅当 'foldmethod' 设为 "manual" 或 "marker" 时有效。
09	 
10	zD     循环删除 (Delete) 光标下的折叠，即嵌套删除折叠。
11	         仅当 'foldmethod' 设为 "manual" 或 "marker" 时有效。
12	 
13	zE      除去 (Eliminate) 窗口里“所有”的折叠。
14	         仅当 'foldmethod' 设为 "manual" 或 "marker" 时有效。
</p>

        </article>
      </div>

    <footer>
        <p><small>
	      <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/cn/" target="_blank" title="许可协议">©</a> 2014 <a href="../../../about/">About_Elvis</a>
       | <a href="../../html/index.html">Wiki_home</a>
       | <a href="../../../index.html">Blog_home</a>
       | <a href="#top">TOP</a>
         </small></p>
    </footer>

    </div>
  </body>
</html>
