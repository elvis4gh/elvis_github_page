<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
  <head>
       <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
       <link rel="Stylesheet" type="text/css" href="../../../media/css/style.css" />
       <meta http-equiv="content-type" content="text/html; charset=utf-8" />
       <meta name="author" content="Elvis" />
       <title>VimSubstitudeCommmand</title>
       <link rel="shortcut icon" href="../../../favicon.ico" />
       <link href="../../../feed/" rel="alternate" title="Elvis" type="application/atom+xml" />
       <link rel="stylesheet" href="../../../media/css/style.css" />
       <link rel="stylesheet" href="../../../media/css/highlight.css" />
       <script type="text/javascript" src="/media/js/jquery-1.7.1.min.js"></script>
  </head>
  <body>
    <a name="top"></a>
    <div id="container">
      <div id="main" role="main">
        <header>
        <h1>VimSubstitudeCommmand</h1>
        </header>
        <nav>
        <span><a title="网站首页" class="" href="../../../">首页</a></span>
        <span><a title="文章分类" class="" href="../../../categories/">分类</a></span>
        <span><a title="标签索引" class="" href="../../../tags/">标签</a></span>
        <!--<span><a title="友情链接" class="" href="../../../links/">链接</a></span>-->
        <span><a title="留言交流" class="" href="../../../guestbook/">留言</a></span>
        <span><a title="关于站长" class="" href="../../../about/">关于</a></span>
        <span><a title="种子订阅" class="" href="../../../feed/" target="_blank">订阅</a></span>
        </nav>
        <article class="content">
        
<p>
:%s/@@.*$//g
</p>

<h2 id="toc_0.1">gvim替换换行符</h2>
<p>
:%s/,/,<sup><small>M/g 注意那个</small></sup>M在Gvim中是先按ctrl+q在按回车打出来
　
</p>
<h2 id="toc_0.2">将“(1), ...., (2), ....,(100)”替换成“(2), ...., (3), ...., (101)”。</h2>
<p>
在文本中一处处找到并修改是很累的，在VIM下一条命令就可以搞定：
</p>

<p>
:%s/(\(\d+\))/\="(".(submatch(1)+1).")"/g
</p>


<p>
　　命令解释如下：
</p>

<p>
%       全文（“%”是“1，$”范围的缩写）
s       替换
/       搜索字符串开始
(       左括号
\)      开始记录匹配
\d+     一个或多个数字
\)      结束记录匹配
)       右括号
/       搜索字符串结束
\=      把后面的表达式计算出来作为替换字符串
"("     左括号
.       字符串连接运算符
(submatch(1) + 1)       把第一个匹配的结果加一作为一个整体返回
.")"    添上右括号
/g      替换字符串结束，g表示替换每一行的所有匹配结果。
</p>

<h2 id="toc_0.3">给个文档如下  现在我想把冒号之后,点号之前的数字加500,怎么做? 或许在vim里ctrl+A可以,不过我想用脚本</h2>
<p>
[00:07.18]哟……大山的子孙 哟.....
[00:17.76]爱太阳喽，太阳那个爱着哟，山里的人哟……
[00:41.21]这里的山路十八弯，这里水路九连环
[00:47.99]这里的山歌排对排，这里的山歌串对串
</p>

<p>
所有数字加上125的:
:%s/\([0-9]\+\)/\=submatch(1)+125/g
</p>

<p>
:%s/\(^.<strong>:\)\([0-9]\+\)\(\..</strong>$\)/\=submatch(1).string(submatch(2)+125).submatch(3)/g
</p>

        </article>
      </div>

    <footer>
        <p><small>
	      <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/cn/" target="_blank" title="许可协议">©</a> 2014 <a href="../../../about/">About_Elvis</a>
       | <a href="../../html/index.html">Wiki_home</a>
       | <a href="../../../index.html">Blog_home</a>
       | <a href="#top">TOP</a>
         </small></p>
    </footer>

    </div>
  </body>
</html>
